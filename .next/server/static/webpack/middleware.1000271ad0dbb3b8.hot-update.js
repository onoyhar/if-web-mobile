"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("middleware",{

/***/ "(middleware)/./middleware.ts":
/*!***********************!*\
  !*** ./middleware.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   middleware: () => (/* binding */ middleware)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(middleware)/./node_modules/next/dist/esm/api/server.js\");\n/* harmony import */ var _supabase_ssr__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @supabase/ssr */ \"(middleware)/./node_modules/@supabase/ssr/dist/module/index.js\");\n\n\nconst protectedRoutes = [\n    \"/profile\",\n    \"/settings\",\n    \"/exercise\"\n];\nasync function middleware(req) {\n    const url = req.nextUrl.clone();\n    const path = url.pathname;\n    // skip if public route\n    if (!protectedRoutes.some((route)=>path.startsWith(route))) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.next();\n    }\n    let response = next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.next({\n        request: {\n            headers: req.headers\n        }\n    });\n    const supabase = (0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_1__.createServerClient)(\"https://cpeijsiuximmfdcblsip.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNwZWlqc2l1eGltbWZkY2Jsc2lwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMzNTU0MDUsImV4cCI6MjA3ODkzMTQwNX0.H2eE1-yWGziS278fH90j2UQf9mSNwU7LQlexLUDsxlM\", {\n        cookies: {\n            getAll () {\n                return req.cookies.getAll();\n            },\n            setAll (cookiesToSet) {\n                cookiesToSet.forEach(({ name, value, options })=>{\n                    req.cookies.set(name, value);\n                    response.cookies.set(name, value, options);\n                });\n            }\n        }\n    });\n    console.log('üîç MIDDLEWARE DEBUG:', path);\n    try {\n        const { data: { user }, error } = await supabase.auth.getUser();\n        console.log('üë§ User:', user?.email || 'None');\n        if (error) {\n            console.log('‚ùå Auth Error:', error.message);\n        }\n        if (!user) {\n            console.log('‚ùå Redirecting to /login');\n            url.pathname = \"/login\";\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(url);\n        }\n        console.log('‚úÖ Access granted');\n        return response;\n    } catch (error) {\n        console.error('‚ùå Middleware error:', error);\n        // On error, let the request through and let the page handle auth\n        return response;\n    }\n}\nconst config = {\n    matcher: [\n        \"/profile/:path*\",\n        \"/settings/:path*\",\n        \"/exercise/:path*\"\n    ]\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbWlkZGxld2FyZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTJDO0FBRVE7QUFFbkQsTUFBTUUsa0JBQWtCO0lBQUM7SUFBWTtJQUFhO0NBQVk7QUFFdkQsZUFBZUMsV0FBV0MsR0FBZ0I7SUFDL0MsTUFBTUMsTUFBTUQsSUFBSUUsT0FBTyxDQUFDQyxLQUFLO0lBQzdCLE1BQU1DLE9BQU9ILElBQUlJLFFBQVE7SUFFekIsdUJBQXVCO0lBQ3ZCLElBQUksQ0FBQ1AsZ0JBQWdCUSxJQUFJLENBQUNDLENBQUFBLFFBQVNILEtBQUtJLFVBQVUsQ0FBQ0QsU0FBUztRQUMxRCxPQUFPWCxxREFBWUEsQ0FBQ2EsSUFBSTtJQUMxQjtJQUVBLElBQUlDLFdBQVdkLHFEQUFZQSxDQUFDYSxJQUFJLENBQUM7UUFDL0JFLFNBQVM7WUFDUEMsU0FBU1osSUFBSVksT0FBTztRQUN0QjtJQUNGO0lBRUEsTUFBTUMsV0FBV2hCLGlFQUFrQkEsQ0FDakNpQiwwQ0FBb0MsRUFDcENBLGtOQUF5QyxFQUN6QztRQUNFSSxTQUFTO1lBQ1BDO2dCQUNFLE9BQU9uQixJQUFJa0IsT0FBTyxDQUFDQyxNQUFNO1lBQzNCO1lBQ0FDLFFBQU9DLFlBQVk7Z0JBQ2pCQSxhQUFhQyxPQUFPLENBQUMsQ0FBQyxFQUFFQyxJQUFJLEVBQUVDLEtBQUssRUFBRUMsT0FBTyxFQUFFO29CQUM1Q3pCLElBQUlrQixPQUFPLENBQUNRLEdBQUcsQ0FBQ0gsTUFBTUM7b0JBQ3RCZCxTQUFTUSxPQUFPLENBQUNRLEdBQUcsQ0FBQ0gsTUFBTUMsT0FBT0M7Z0JBQ3BDO1lBQ0Y7UUFDRjtJQUNGO0lBR0ZFLFFBQVFDLEdBQUcsQ0FBQyx3QkFBd0J4QjtJQUVwQyxJQUFJO1FBQ0YsTUFBTSxFQUFFeUIsTUFBTSxFQUFFQyxJQUFJLEVBQUUsRUFBRUMsS0FBSyxFQUFFLEdBQUcsTUFBTWxCLFNBQVNtQixJQUFJLENBQUNDLE9BQU87UUFFN0ROLFFBQVFDLEdBQUcsQ0FBQyxZQUFZRSxNQUFNSSxTQUFTO1FBRXZDLElBQUlILE9BQU87WUFDVEosUUFBUUMsR0FBRyxDQUFDLGlCQUFpQkcsTUFBTUksT0FBTztRQUM1QztRQUVBLElBQUksQ0FBQ0wsTUFBTTtZQUNUSCxRQUFRQyxHQUFHLENBQUM7WUFDWjNCLElBQUlJLFFBQVEsR0FBRztZQUNmLE9BQU9ULHFEQUFZQSxDQUFDd0MsUUFBUSxDQUFDbkM7UUFDL0I7UUFFQTBCLFFBQVFDLEdBQUcsQ0FBQztRQUNaLE9BQU9sQjtJQUNULEVBQUUsT0FBT3FCLE9BQU87UUFDZEosUUFBUUksS0FBSyxDQUFDLHVCQUF1QkE7UUFDckMsaUVBQWlFO1FBQ2pFLE9BQU9yQjtJQUNUO0FBQ0Y7QUFFTyxNQUFNMkIsU0FBUztJQUNwQkMsU0FBUztRQUFDO1FBQW1CO1FBQW9CO0tBQW1CO0FBQ3RFLEVBQUUiLCJzb3VyY2VzIjpbIi9Vc2Vycy9tZWthcmkvcGVyc29uYWwtc2F2ZWQvaWYtcHdhL21pZGRsZXdhcmUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XG5pbXBvcnQgdHlwZSB7IE5leHRSZXF1ZXN0IH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XG5pbXBvcnQgeyBjcmVhdGVTZXJ2ZXJDbGllbnQgfSBmcm9tIFwiQHN1cGFiYXNlL3NzclwiO1xuXG5jb25zdCBwcm90ZWN0ZWRSb3V0ZXMgPSBbXCIvcHJvZmlsZVwiLCBcIi9zZXR0aW5nc1wiLCBcIi9leGVyY2lzZVwiXTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1pZGRsZXdhcmUocmVxOiBOZXh0UmVxdWVzdCkge1xuICBjb25zdCB1cmwgPSByZXEubmV4dFVybC5jbG9uZSgpO1xuICBjb25zdCBwYXRoID0gdXJsLnBhdGhuYW1lO1xuXG4gIC8vIHNraXAgaWYgcHVibGljIHJvdXRlXG4gIGlmICghcHJvdGVjdGVkUm91dGVzLnNvbWUocm91dGUgPT4gcGF0aC5zdGFydHNXaXRoKHJvdXRlKSkpIHtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLm5leHQoKTtcbiAgfVxuXG4gIGxldCByZXNwb25zZSA9IE5leHRSZXNwb25zZS5uZXh0KHtcbiAgICByZXF1ZXN0OiB7XG4gICAgICBoZWFkZXJzOiByZXEuaGVhZGVycyxcbiAgICB9LFxuICB9KTtcblxuICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZVNlcnZlckNsaWVudChcbiAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwhLFxuICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZISxcbiAgICB7XG4gICAgICBjb29raWVzOiB7XG4gICAgICAgIGdldEFsbCgpIHtcbiAgICAgICAgICByZXR1cm4gcmVxLmNvb2tpZXMuZ2V0QWxsKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldEFsbChjb29raWVzVG9TZXQpIHtcbiAgICAgICAgICBjb29raWVzVG9TZXQuZm9yRWFjaCgoeyBuYW1lLCB2YWx1ZSwgb3B0aW9ucyB9KSA9PiB7XG4gICAgICAgICAgICByZXEuY29va2llcy5zZXQobmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgcmVzcG9uc2UuY29va2llcy5zZXQobmFtZSwgdmFsdWUsIG9wdGlvbnMpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9XG4gICk7XG5cbiAgY29uc29sZS5sb2coJ/CflI0gTUlERExFV0FSRSBERUJVRzonLCBwYXRoKTtcbiAgXG4gIHRyeSB7XG4gICAgY29uc3QgeyBkYXRhOiB7IHVzZXIgfSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCfwn5GkIFVzZXI6JywgdXNlcj8uZW1haWwgfHwgJ05vbmUnKTtcbiAgICBcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfinYwgQXV0aCBFcnJvcjonLCBlcnJvci5tZXNzYWdlKTtcbiAgICB9XG5cbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfinYwgUmVkaXJlY3RpbmcgdG8gL2xvZ2luJyk7XG4gICAgICB1cmwucGF0aG5hbWUgPSBcIi9sb2dpblwiO1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5yZWRpcmVjdCh1cmwpO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCfinIUgQWNjZXNzIGdyYW50ZWQnKTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign4p2MIE1pZGRsZXdhcmUgZXJyb3I6JywgZXJyb3IpO1xuICAgIC8vIE9uIGVycm9yLCBsZXQgdGhlIHJlcXVlc3QgdGhyb3VnaCBhbmQgbGV0IHRoZSBwYWdlIGhhbmRsZSBhdXRoXG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBjb25maWcgPSB7XG4gIG1hdGNoZXI6IFtcIi9wcm9maWxlLzpwYXRoKlwiLCBcIi9zZXR0aW5ncy86cGF0aCpcIiwgXCIvZXhlcmNpc2UvOnBhdGgqXCJdXG59OyJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJjcmVhdGVTZXJ2ZXJDbGllbnQiLCJwcm90ZWN0ZWRSb3V0ZXMiLCJtaWRkbGV3YXJlIiwicmVxIiwidXJsIiwibmV4dFVybCIsImNsb25lIiwicGF0aCIsInBhdGhuYW1lIiwic29tZSIsInJvdXRlIiwic3RhcnRzV2l0aCIsIm5leHQiLCJyZXNwb25zZSIsInJlcXVlc3QiLCJoZWFkZXJzIiwic3VwYWJhc2UiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkiLCJjb29raWVzIiwiZ2V0QWxsIiwic2V0QWxsIiwiY29va2llc1RvU2V0IiwiZm9yRWFjaCIsIm5hbWUiLCJ2YWx1ZSIsIm9wdGlvbnMiLCJzZXQiLCJjb25zb2xlIiwibG9nIiwiZGF0YSIsInVzZXIiLCJlcnJvciIsImF1dGgiLCJnZXRVc2VyIiwiZW1haWwiLCJtZXNzYWdlIiwicmVkaXJlY3QiLCJjb25maWciLCJtYXRjaGVyIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./middleware.ts\n");

/***/ })

});